Постановка:

По сокету поступает одна из трех команд

1. отобразить статус - ответить OK, если адаптер жив
2. записать xml файл в определенную папку
3. прочитать xml файл из определенной папки и ответить значением тэга Code


Решение:

Есть протоколы:
Клиент-> сервер : <команда N байт>[<размер данных><данные>]
Сервер –> клиент: <ответ>[<размер данных><данные>]

Сервер:
1.       Поднимаем сокет сервер
2.       Ждем команду (читаем N байт из байтового потока):
    a.       Проверка – отвечаем  ok
    b.       Запись – читаем длину , читаем xml, пишем xml в файл, отвечаем ok
    c.       Чтение – читаем xml из файла, вытаскиваем тэг Code (Unmarshaller), отвечаем ok + значение тэга

Клиент (для теста):

1.       Коннектимся к серверу
2.       Шлем «проверка»
3.       Шлем «запись»
4.       Шлем «чтение» , читаем данные
5.       Радуемся результатам

